# Please add user stories at the top of this file
PMT-S080:
  name: customize inventory summary row
  description: >
    As a user, I want to configure the summary row on data inventory table.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0249
PMT-S079:
  name: sig returns character when passed integer
  description: >
    As a user, I want sig() to return a character result when passed an integer.
  ProductRisk: low-risk
  tests:
  - PMT-UTIL-0001

# -----------------------------------------------------------------------------
# The following tests were in the original import; the last story was S078
PMT-S001:
  name: Sanitize non-math columns
  description: As a user, I would like non-escaped, non-math table contents sanitized
    when they contain `_` or `%`
  ProductRisk: low-risk
  tests: PMT-TEST-0183
PMT-S002:
  name: Set table font size
  description: As a user, I want to be able to set the font size for the table.
  ProductRisk: low-risk
  tests: PMT-TEST-0184
PMT-S003:
  name: Option to scrub column tags from column names
  description: As a user, I want to issue a command to strip `tag.` from `tag.column-name`.
  ProductRisk: low-risk
  tests: PMT-TEST-0209
PMT-S004:
  name: longtable functionality
  description: As a user, I want to be able to create long tables that span multiple
    pages.
  ProductRisk: low-risk
  tests: PMT-TEST-0134
PMT-S005:
  name: Sanitize table notes
  description: As a user, I want table notes sanitized for `_` or `%` characters.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0180
  - PMT-TEST-0181
PMT-S006:
  name: Make longtable using pipe interface
  description: As a user, I want to be able to optionally render a table as `longtable`
    using the pipeable interface.
  ProductRisk: low-risk
  tests: PMT-TEST-0230
PMT-S007:
  name: Save table code
  description: As a user, I want to be able to automatically save a file to an output
    location that also appears in the table note text.
  ProductRisk: low-risk
  tests: PMT-TEST-0237
PMT-S008:
  name: Pipe interface
  description: As a user, I want to be able to assemble tables within a pipe interface.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0215
  - PMT-TEST-0217
  - PMT-TEST-0218
  - PMT-TEST-0219
  - PMT-TEST-0220
  - PMT-TEST-0221
  - PMT-TEST-0222
  - PMT-TEST-0223
  - PMT-TEST-0224
  - PMT-TEST-0225
  - PMT-TEST-0227
  - PMT-TEST-0228
  - PMT-TEST-0229
PMT-S009:
  name: Add hlines based on data column
  description: As a user, I want to be able add horizontal lines in the table based
    on non-repeating values of a data frame column.
  ProductRisk: low-risk
  tests: PMT-TEST-0115
PMT-S010:
  name: Add hlines anywhere
  description: As a user, I want to be able to add horizontal lines in a table at
    arbitrary locations.
  ProductRisk: low-risk
  tests: PMT-TEST-0114
PMT-S011:
  name: Summary rows
  description: As a user, I want to be able to identify a row (or rows) that are summary
    rows and add special styling to those rows, including a horizontal line above
    that row, bold font face in certain cells of that row, and alternate text in certain
    cells of that row.
  ProductRisk: low-risk
  tests: PMT-TEST-0199
PMT-S012:
  name: Annotate the table with user-defined notes
  description: As a user, I want to be able to add notes that will get printed below
    a table.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0154
  - PMT-TEST-0153
  - PMT-TEST-0155
  - PMT-TEST-0088
  - PMT-TEST-0089
PMT-S013:
  name: Annotate the table with R file name and output file name
  description: As a user, I want to be able to pass in the name of originating R script
    and output latex file and add those annotations at the bottom of the table.
  ProductRisk: low-risk
  tests: PMT-TEST-0156
PMT-S014:
  name: Bold column names
  description: As a user, I want to be able to render table column names in bold font
    if I so choose.
  ProductRisk: low-risk
  tests: PMT-TEST-0204
PMT-S015:
  name: Replace column names
  description: As a user, I want to be able to (completely) replace input data frame
    column names with a new set of names.
  ProductRisk: low-risk
  tests: PMT-TEST-0203
PMT-S016:
  name: Continuous covariate summary table
  description: As a user, I want to be able to create a table summarizing continuous
    covariates in long or wide format.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0038
  - PMT-TEST-0039
  - PMT-TEST-0040
  - PMT-TEST-0041
  - PMT-TEST-0042
PMT-S017:
  name: Categorical (discrete) covariate summary table
  description: As a user, I want to be able to create a categorical covariate summary
    table in either wide or long format.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0073
  - PMT-TEST-0075
  - PMT-TEST-0065
  - PMT-TEST-0066
  - PMT-TEST-0067
  - PMT-TEST-0068
  - PMT-TEST-0109
  - PMT-TEST-0110
PMT-S018:
  name: Data inventory table
  description: As a user, I want to be able to summarize a data set and create a data
    disposition table summarizing the number of observations, the number of individuals,
    the number of missing observations, the number of observations below the quantitation
    limit, the percent of observations that are below the quantitation limit, and
    the percent of observation in certain subgroups.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0122
  - PMT-TEST-0123
  - PMT-TEST-0124
  - PMT-TEST-0125
  - PMT-TEST-0126
  - PMT-TEST-0119
  - PMT-TEST-0120
  - PMT-TEST-0121
  - PMT-TEST-0026
  - PMT-TEST-0027
  - PMT-TEST-0028
PMT-S019:
  name: Column spanner - from user
  description: As a user, I want to group table columns with a horizontal line above
    the table column labels and give a title to the group of columns.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0189
  - PMT-TEST-0102
PMT-S020:
  name: Column spanner - from column names
  description: As a user, I want to be able to encode column groupings in the column
    names as `title.name` format; the column groupings will be implemented by stating
    the separator on which to split the column name.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0186
  - PMT-TEST-0160
  - PMT-TEST-0188
PMT-S021:
  name: Column alignment and sizing
  description: As a user, I want to be able to alter the alignment of table columns
    as left, center, right with the column width determined by latex or as a fixed
    size.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0001
  - PMT-TEST-0097
PMT-S022:
  name: Set table row and column padding
  description: As a user, I want to be able to increase or decrease the amount of
    padding between cells and / or columns in the table.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0104
  - PMT-TEST-0105
  - PMT-TEST-0106
PMT-S023:
  name: Add units below column labels
  description: As a user, I want to pass in a named list of units corresponding to
    table column names and print the unit below the column name.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0206
  - PMT-TEST-0101
  - PMT-TEST-0107
  - PMT-TEST-0108
PMT-S024:
  name: Replace repeating values with whitespace in a column
  description: As a user, I want to be able to replace repeating values with whitespace
    in a column.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0010
  - PMT-TEST-0011
  - PMT-TEST-0012
PMT-S025:
  name: Write math expressions in a table
  description: As a user, I want to be able to write math expressions in latex in
    the table.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0177
  - PMT-TEST-0179
PMT-S026:
  name: Tabular / three part table
  description: As a user, I want to render a data frame in tabular environment within
    threeparttable.
  ProductRisk: low-risk
  tests: PMT-TEST-0085
PMT-S027:
  name: Rename columns
  description: As a user, I want to be able to have a column name appear in the latex
    table that is different than the column name in the data frame.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0202
  - PMT-TEST-0201
PMT-S028:
  name: longtable captions
  description: As a user, I want to be able to specify the caption for long tables
    as either text passed to the `stable_long` call or as a latex macro name.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0135
  - PMT-TEST-0137
PMT-S029:
  name: Break column labels into multiple lines
  description: As a user, I want to be able to break the table column labels into
    multiple rows.
  ProductRisk: low-risk
  tests: PMT-TEST-0207
PMT-S030:
  name: Drop columns
  description: As a user, I want to be able to optionally drop columns from the data
    frame so that they do not appear in the latex output.
  ProductRisk: low-risk
  tests: PMT-TEST-0208
PMT-S031:
  name: 'ENHANCE: Add n column to pt_cat_wide'
  description: As a user, I want to have the total number of subjects in a column
    in the `pt_cat_wide` table
  ProductRisk: low-risk
  tests: PMT-TEST-0076
PMT-S032:
  name: 'ENHANCE: Put all data summary in pt_cat_long'
  description: As a user, I want to have an all-data summary at the bottom of pt_cat_long
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0074
  - PMT-TEST-0034
  - PMT-TEST-0036
PMT-S033:
  name: 'ENHANCE: add long = TRUE to as_stable'
  description: As a user, I want to be able to create long table from pmtable object.
  ProductRisk: low-risk
  tests: PMT-TEST-0167
PMT-S034:
  name: 'ENHANCE: invert pt_cont_long table'
  description: As a user, I want to be able to make a continuous covariate summary
    in long format, where the covariate summaries are paneled by the covariate name,
    rather than the paneling variable name
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0018
  - PMT-TEST-0239
PMT-S035:
  name: 'BUG: passing in all_name with tex in it'
  description: As a user, I want tab_panel to succeed even if `prefix_skip` or `skip`
    is not a valid regular expression
  ProductRisk: low-risk
  tests: PMT-TEST-0243
PMT-S036:
  name: Refactor longtable and tabular row spacing
  description: As a user, I want to be able to control row and column spacing in longtable
    and tabular with the same parameters.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0138
  - PMT-TEST-0185
PMT-S037:
  name: 'BUG: output file name not saved to longtable output'
  description: As a user, I want longtable output object to retain output file name
    as an attribute.
  ProductRisk: low-risk
  tests: PMT-TEST-0139
PMT-S038:
  name: Harmonize N / n in different tables
  description: As a user, I want to see either N or n in table output
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0109
  - PMT-TEST-0110
  - PMT-TEST-0024
  - PMT-TEST-0079
  - PMT-TEST-0080
PMT-S039:
  name: Wrap standard table notes in function call
  description: As a user, I want to be able to get the notes for a data summary table
    using an R function call.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0022
  - PMT-TEST-0023
  - PMT-TEST-0077
  - PMT-TEST-0078
  - PMT-TEST-0127
PMT-S040:
  name: Pass extra column title information as data frame
  description: As a user, I want to be able to pass extra table labels to be included
    in the header as a data frame
  ProductRisk: low-risk
  tests: PMT-TEST-0210
PMT-S041:
  name: con defaults to NULL for st_wrap in as_stable.pmtable
  description: As a user, I want the table printed only once when calling `as_stable`
    with `wrapw = TRUE`
  ProductRisk: low-risk
  tests: PMT-TEST-0002
PMT-S042:
  name: Landscape mode for st2doc and st2article
  description: As a user, I want to be able to preview a table in a pdf document in
    landscape mode.
  ProductRisk: low-risk
  tests: PMT-TEST-0169
PMT-S043:
  name: Short caption / title for longtable
  description: As a user, I want to be able to specify both a short and long caption
    for long table
  ProductRisk: low-risk
  tests: PMT-TEST-0136
PMT-S044:
  name: Error in continuous summary when all values are missing
  description: As a user, I want to be able to summarize continuous data items and
    have a result even if all values are missing.
  ProductRisk: low-risk
  tests: PMT-TEST-0025
PMT-S045:
  name: Need to accumulate hline indices in stobject
  description: As a user, I want to call st_hline multiple times in a pipeline and
    accumulate hline indices
  ProductRisk: low-risk
  tests: PMT-TEST-0118
PMT-S046:
  name: st_hline with pattern argument doesn't work when cols is used?
  description: As a user, I want to place a horizontal line across a table by specifying
    a pattern and a column name to in which to look
  ProductRisk: low-risk
  tests: PMT-TEST-0116
PMT-S047:
  name: Add nudge argument to result from pattern arguments
  description: As a user, I want to move the hline resulting from `st_hline / pattern`
    or `st_hline / at` up or back by a specified number of rows
  ProductRisk: low-risk
  tests: PMT-TEST-0117
PMT-S048:
  name: Make columns bold after sanitizing
  description: As a user, I would like to have column name sanitized prior to adding
    bold styling
  ProductRisk: low-risk
  tests:
  - tests/testthat/test_tab-cols.R
  - PMT-TEST-0205
PMT-S049:
  name: Break span title
  description: As a user, I want to be able to break span titles over multiple lines
  ProductRisk: low-risk
  tests: PMT-TEST-0190
PMT-S050:
  name: Knit document with tables outside of template
  description: As a user, I want to be able to include all required latex packages
    when knitting a document that includes pmtables output
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0171
  - PMT-TEST-0170
PMT-S051:
  name: Option to bind yaml_as_df by column number
  description: As a user, I want to write table data into a yaml file and have pmtables
    read and create a data frame based on column number rather than name
  ProductRisk: low-risk
  tests:
  - tests/testthat/test-yaml_as_df
  - PMT-TEST-0246
  - PMT-TEST-0247
  - PMT-TEST-0248
PMT-S052:
  name: column spanners not showing up in longtable
  description: As a user, I want column spanners to appear in long tables
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0140
  - PMT-TEST-0141
  - PMT-TEST-0142
PMT-S053:
  name: Check for missing values in categorical covariates
  description: As a user, I want pmtables to tell me when there is missing values
    in categorical covariate columns when creating categorical pmtable and replace
    with character NA.
  ProductRisk: low-risk
  tests: PMT-TEST-0082
PMT-S054:
  name: col_split is changing the column names too early
  description: As a user, I want to be able to specify column spanners via both `span_split`
    and `span` and have `span_split` not clobber column names before calculating columns
    under `span`
  ProductRisk: low-risk
  tests: PMT-TEST-0191
PMT-S055:
  name: Add span_split via st_span
  description: As a user, I want to specify  `span_split` via `st_span()`
  ProductRisk: low-risk
  tests: PMT-TEST-0192
PMT-S056:
  name: Make stable_long generic, add methods for pmtable and stobject
  description: As a user, I want to be able to use `stable_long()` to render as long
    table objects with class `pmtable` and `stobject`
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0143
  - PMT-TEST-0144
PMT-S057:
  name: Return invisible after saving or previewing
  description: As a user, I want pmtables to return invisible output after previewing
    a table or saving it to file.
  ProductRisk: low-risk
  tests: PMT-TEST-0237
PMT-S058:
  name: Bug in drop_miss implementation
  description: As a user, I want `pt_data_inventory` to drop the Missing Observation
    summary when I pass `drop_miss = TRUE`
  ProductRisk: low-risk
  tests: PMT-TEST-0128
PMT-S059:
  name: Combined demographics table
  description: As a user, I pmtables to generate a table summarizing both continuous
    and categorical covariates.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0043
  - PMT-TEST-0044
  - PMT-TEST-0045
  - PMT-TEST-0046
  - PMT-TEST-0047
  - PMT-TEST-0048
  - PMT-TEST-0049
  - PMT-TEST-0050
  - PMT-TEST-0051
  - PMT-TEST-0052
  - PMT-TEST-0053
  - PMT-TEST-0054
  - PMT-TEST-0055
  - PMT-TEST-0056
  - PMT-TEST-0057
PMT-S060:
  name: Rename table columns via list
  description: As a user, I want to pass a list of rename information to pmtables
    in order to rename columns.
  ProductRisk: low-risk
  tests: PMT-TEST-0226
PMT-S061:
  name: Save a list of tables
  description: As a user, I want `stable_save` to save out a list of `stable` objects
  ProductRisk: low-risk
  tests: PMT-TEST-0238
PMT-S062:
  name: Pipe a list of tables to st2report
  description: As a user, I want to be able to pipe a list of tables to st2report
    as well as passing them via dots
  ProductRisk: low-risk
  tests: PMT-TEST-0173
PMT-S063:
  name: Fix error message when duplicate panels are found
  description: As a user, I want pmtables to name the correct argument to use to over
    ride an error generated when duplicate panels are used
  ProductRisk: low-risk
  tests: PMT-TEST-0158
PMT-S064:
  name: Re-named cols  and table arg do not rename
  description: As a user, I want to used renamed cols argument or pass a table list
    to `pt_cont_wide`
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0020
  - PMT-TEST-0021
  - PMT-TEST-0083
  - PMT-TEST-0084
PMT-S065:
  name: Arguments are not captured when coercing pmtable output to stable_long
  description: As a user, I want to be able to convert pmtable output to long table
    and pass along arguments to stable_long
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0003
  - PMT-TEST-0004
  - PMT-TEST-0005
  - PMT-TEST-0006
PMT-S066:
  name: Font size not changed for longtable
  description: As a user, I want to control the base font size for longtable
  ProductRisk: low-risk
  tests: PMT-TEST-0145
PMT-S067:
  name: Check incoming type for st_asis
  description: As a user, I want to receive an error message when the wrong type of
    object is passed to `st_asis()`
  ProductRisk: low-risk
  tests: PMT-TEST-0175
PMT-S068:
  name: Option to omit column names totally (including hline)
  description: As a user, I would like to be able to completely suppress column names
    from appearing in the table.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0211
  - PMT-TEST-0212
  - PMT-TEST-0213
  - PMT-TEST-0214
PMT-S069:
  name: Option to omit hline in panel
  description: As a user, I want the option to omit the hline in the panel
  ProductRisk: low-risk
  tests: PMT-TEST-0164
PMT-S070:
  name: Use total non-missing obs as denom for percent bql
  description: As a user, I want `pt_data_inventory` to use number of total non-missing
    observations in denominator for percent bql calculation.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0129
  - PMT-TEST-0130
  - PMT-TEST-0131
  - PMT-TEST-0132
PMT-S071:
  name: Reverse order on span_split
  description: As a user, I want to be able to take the span title from the left or
    right split when using `colsplit()`
  ProductRisk: low-risk
  tests: PMT-TEST-0187
PMT-S072:
  name: Escape names in table list for st2article
  description: As a user, I want pmtables to escape names in the list of tables to
    render with st2report
  ProductRisk: low-risk
  tests: PMT-TEST-0176
PMT-S073:
  name: Call st_asis on pmtable object
  description: As a user, I want to be able to pipe a `pmtable` object to `st_asis()`
  ProductRisk: low-risk
  tests: all st_asis on a pmtable object
PMT-S074:
  name: Jut the first column and header when panel
  description: As a user, I want to be able to add small indent to the first column
    when panel is used.
  ProductRisk: low-risk
  tests: PMT-TEST-0166
PMT-S075:
  name: Add * to panel title rows in longtable
  description: As a user, I want pmtables to keep panel title rows together with the
    subsequent row.
  ProductRisk: low-risk
  tests: PMT-TEST-0165
PMT-S076:
  name: pt_data_inventory to update colname/footer when I use BLQ
  description: As a user, I want pt_data_inventory to change my colname/footer description
    for BLQ if I use `bq_col = "BLQ"`
  ProductRisk: low-risk
  tests: PMT-TEST-0133
PMT-S077:
  name: Allow alignment of span titles
  description: As a user, I want to justify span titles to the left, right or center.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0193
  - PMT-TEST-0195
  - PMT-TEST-0194
PMT-S078:
  name: Stable() creates tabular output
  description: As a user, I want to be able to create tabular output from an R data frame.
  ProductRisk: low-risk
  tests:
  - PMT-TEST-0002
  - PMT-TEST-0003
  - PMT-TEST-0004
  - PMT-TEST-0005
  - PMT-TEST-0006

